<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atlas UX â€” Settings</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body style="width:100%; max-height:none;">
  <div class="options-container">
    <h1>Atlas UX Settings</h1>

    <!-- Connection -->
    <div class="card">
      <h2>Connection</h2>
      <div class="form-group">
        <label for="optApiUrl">API URL</label>
        <input type="url" id="optApiUrl" placeholder="https://atlas-ux.onrender.com/v1" spellcheck="false">
      </div>
      <div class="form-group">
        <label for="optAuthToken">Auth Token</label>
        <input type="password" id="optAuthToken" placeholder="Bearer token or JWT" spellcheck="false">
      </div>
      <div class="form-group">
        <label for="optTenantId">Tenant ID</label>
        <input type="text" id="optTenantId" placeholder="Your tenant identifier" spellcheck="false">
      </div>
      <div id="optTestResult" style="display:none;"></div>
      <button id="optTestBtn" class="btn-secondary" style="margin-top:4px; flex:none; width:100%;">
        Test Connection
      </button>
    </div>

    <!-- Notifications -->
    <div class="card">
      <h2>Notifications</h2>
      <div class="toggle-row">
        <div>
          <div class="toggle-label">Job Completions</div>
          <div class="toggle-desc">Notify when a job finishes</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="optNotifyJobs" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="toggle-row">
        <div>
          <div class="toggle-label">Pending Decisions</div>
          <div class="toggle-desc">Notify when decisions need your approval</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="optNotifyDecisions" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="toggle-row">
        <div>
          <div class="toggle-label">Agent Alerts</div>
          <div class="toggle-desc">Notify on agent errors or warnings</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="optNotifyAgents">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <!-- Polling -->
    <div class="card">
      <h2>Polling</h2>
      <div class="form-group">
        <label for="optPollInterval">Badge Update Interval</label>
        <select id="optPollInterval">
          <option value="30">Every 30 seconds</option>
          <option value="60" selected>Every 1 minute</option>
          <option value="120">Every 2 minutes</option>
          <option value="300">Every 5 minutes</option>
          <option value="600">Every 10 minutes</option>
        </select>
      </div>
    </div>

    <!-- Data -->
    <div class="card">
      <h2>Data</h2>
      <p style="font-size:12px; color:#64748b; margin-bottom:10px;">
        Clear all stored credentials and settings. You will need to reconnect after clearing.
      </p>
      <button id="optClearBtn" class="btn-secondary" style="flex:none; width:100%; color:#f87171; border-color:rgba(248,113,113,0.3);">
        Clear All Data
      </button>
    </div>

    <!-- Save -->
    <div id="optFeedback" style="display:none;"></div>
    <button id="optSaveBtn" class="btn-primary">Save Settings</button>
  </div>

  <script src="options.js"></script>
</body>
</html>
